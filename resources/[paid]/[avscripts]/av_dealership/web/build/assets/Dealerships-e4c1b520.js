import{i as w,l as e,B as u,G as b,T as _,x as D,j,q as y,n as h,y as M,r as f,o as p}from"./index-dafeadfa.js";import{T as t}from"./Table-e4d8b01e.js";import{A as x,M as z}from"./ModalMain-d572d4b6.js";import{I as C,a as I}from"./IconTrash-e5a9196e.js";import"./TextInput-22038d77.js";import"./Paper-1e316dd2.js";var A=w("tools","IconTools",[["path",{d:"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4",key:"svg-0"}],["path",{d:"M14.5 5.5l4 4",key:"svg-1"}],["path",{d:"M12 8l-5 -5l-4 4l5 5",key:"svg-2"}],["path",{d:"M7 8l-1.5 1.5",key:"svg-3"}],["path",{d:"M16 12l5 5l-4 4l-5 -5",key:"svg-4"}],["path",{d:"M16 17l-1.5 1.5",key:"svg-5"}]]);const S=({handleNew:s,amount:o,lang:i})=>e.jsxs(u,{bg:"dark.7",h:50,p:10,w:"100%",display:"inline-flex",style:{alignContent:"center",alignItems:"center",borderRadius:"4px"},children:[e.jsx(b,{gap:"xs",children:e.jsx(_,{order:3,c:"gray.4",children:`${o} Dealership(s)`})}),e.jsx(u,{style:{display:"flex",justifyContent:"flex-end",float:"right",marginLeft:"auto"},children:e.jsx(D,{size:"xs",mr:10,color:"cyan",onClick:s,children:i.create_dealership})})]}),$=({elements:s,handleEdit:o,handleDelete:i,handleZones:c})=>{const{lang:l}=j(y),d=Object.keys(s).map(n=>e.jsxs(t.Tr,{children:[e.jsx(t.Td,{children:s[n].label}),e.jsx(t.Td,{children:s[n].ownerName?s[n].ownerName:""}),e.jsx(t.Td,{children:`$${s[n].funds.toLocaleString("en-US")}`}),e.jsx(t.Td,{children:s[n].job}),e.jsx(t.Td,{children:e.jsxs(b,{gap:"xs",children:[e.jsx(h,{label:l.edit_dealership,color:"dark.8",c:"gray.3",children:e.jsx(x,{variant:"subtle",color:"cyan",size:"sm",onClick:()=>{o(s[n])},children:e.jsx(C,{size:16})})}),e.jsx(h,{label:l.edit_zones,color:"dark.8",c:"gray.3",children:e.jsx(x,{variant:"subtle",color:"violet",size:"sm",onClick:()=>{c(s[n])},children:e.jsx(A,{size:16})})}),e.jsx(h,{label:l.delete,color:"dark.8",c:"gray.3",children:e.jsx(x,{variant:"subtle",color:"red",size:"sm",onClick:()=>{i(s[n])},children:e.jsx(I,{size:16})})})]})})]},s[n].name));return e.jsxs(t,{children:[e.jsx(t.Thead,{children:e.jsxs(t.Tr,{children:[e.jsx(t.Th,{children:l.name}),e.jsx(t.Th,{children:l.owner}),e.jsx(t.Th,{children:l.funds}),e.jsx(t.Th,{children:l.job}),e.jsx(t.Th,{children:l.actions})]})}),e.jsx(t.Tbody,{children:d})]})},q=()=>{const{lang:s}=j(y),{allDealerships:o,allJobs:i}=j(M),[c,l]=f.useState(!1),[d,n]=f.useState({}),g=()=>{p("av_dealership","newDealership")},T=a=>{const r=a.name;n({title:a.label,options:[{name:"label",type:"text",title:s.label,default:a.label,icon:"fa-regular fa-pen-to-square"},{name:"funds",type:"number",title:s.funds,default:a.funds,icon:"fa-solid fa-coins"},{name:"owner",type:"number",title:s.owner,description:s.playerid,icon:"fa-solid fa-user"},{name:"job",type:"select",title:s.job,description:s.linked_job,icon:"fa-solid fa-users",options:i,default:a.job,searchable:!0,style:{marginBotton:"10px"}},{name:"preowned",type:"switch",title:s.pre_owned,default:a.preowned,style:{padding:"10px",textAlign:"center"}}],button:s.confirm_button,extraData:{event:"editDealership",name:r}}),l(!0)},v=a=>{const r=a.name;n({title:s.delete_dealership,options:[{type:"info",description:`${s.delete_dealer_confirmation} ${a.label}?`,style:{textAlign:"center"}}],button:s.confirm_button,extraData:{event:"deleteDealership",name:r}}),l(!0)},m=a=>{p("av_dealership","editZones",a)},k=a=>{var r;(r=a==null?void 0:a.extraData)!=null&&r.event&&p("av_dealership",a.extraData.event,a),l(!1)};return e.jsxs("div",{children:[c&&e.jsx(z,{callback:k,data:d}),e.jsx(S,{handleNew:g,amount:Object.keys(o).length,lang:s}),e.jsx($,{elements:o,handleDelete:v,handleEdit:T,handleZones:m})]})};export{q as default};
